{"version":3,"sources":["assets/MediaPlayer.js","plugins/AutoPlay.js","plugins/AutoPause.js","assets/main.js"],"names":["MediaPlayer","config","media","el","plugins","Array","initPlufins","prototype","player","play","pause","getmuted","muted","setmuted","valor","forEach","plugin","run","togglePlay","paused","volumen","volume","mute","unmute","toggleMute","console","log","AutoPlay","AutoPause","constructor","threshot","handlerIntersection","bind","handlerVisibilities","observer","IntersectionObserver","observe","document","addEventListener","entries","entry","visibility","intersectionRatio","isVisible","visibilityState","video","querySelector","btnPlay","btnMute","sonido","getElementById","onclick","oninput","value","navigator","serviceWorker","register","catch","err","error"],"mappings":";;AGAA;;AACA;;AACA;AHFA,AEAA,ADAA,MCAM4B,GFAG5B,ACAA2B,MCAT,CAAgB,CDAhB,GDAA,ACAoB,CDAC1B,ACEpB,MDFD,EAA4B;AACxB,AEAA4B,EAAAA,KFAK3B,KAAL,CEAW,EFAED,CEAA,KFAM,CAACE,EAApB;AACA,AEAI,ADCRwB,ODDSvB,CCCD,CCDK0B,ADCJvB,KDDL,GAAeN,AEAX,CDCR,CAAmBgB,CCDK,EDCxB,CDDyB,CAACb,AEAlB,CDCiB,MDDN,IAAkB,ACCHI,IDDOH,ECChB,EAAiB,CDDL,EAAjC;AACA,AGEJ,ADFQ,ADCJ,MECEwC,AFDC,CDDEvC,ACCDE,ECDKuB,ECEF,EFDG,CECAM,AFDCzB,IDDX,CCCA,EAAiB,CECC,CAACkC,KDFf,GAA2B,KCErB,ADF0Bf,CCEH,OAAvB,CAAd,UDFmC,CAAyBC,IAAzB,CAA8B,IAA9B,CAA3B;AFCP,AGED,ADFQ,ADCAxB,IAAAA,EECFuC,GDFOd,CDCC,CAACpB,EECF,GAAGwB,GFDR,GAAkB,EECF,CAACS,CFDjB,ECDA,GAA2B,KAAKb,ECExB,CAAuB,UAAvB,CAAhB,KDFmC,CAAyBD,IAAzB,CAA8B,IAA9B,CAA3B;ACGR,ADFK,ADCA,MECCgB,OAAO,GAAGX,QAAQ,CAACS,aAAT,CAAuB,UAAvB,CAAhB;AHFA9C,AGGA,MAAMiD,KHHK,CAAC1C,AGGA,GAAG8B,MHHf,CAAsB/B,CGGC,CAAC4C,SHHxB,GAAoC,EGGrB,CAAwB,QAAxB,CHHgC,AGG/C;AHFI,AGIJ,ADJIjC,ADCAT,ECDAS,ADCAT,GCDG,CCIDA,ADJEA,EFAEA,ACCA,CAACC,GEGC,ADJL,CDCH,CDDY,AEAA,CCID,EHJI,EGIAT,oBAAJ,CAAgB;AHHvBS,AGGyBN,ADHzB,ADCP,CALD,CEOiCA,EHHzBM,AGG2B,EAAEoC,EHHzB,CEACrC,CFAC,CGGiB,IDHvB,CFAY,EEAEA,GFAGC,GEAjB,CFAY,EADD;AAEXC,AGEoCN,ADFpC,ECEoCA,EHFpCM,KAAK,AGEsC,CDFrCwB,CFAC,AGEsC,CAAC,IAAIP,CHFrC,CEAC,GAAG,CFACjB,GEAGyB,EFAR,EAFF,IGImC,EAAD,EAAiB,IAAIP,IDFjD,CAAyB,KAAKG,QCEe,EAAjB,SDF5B,EAAmD;AFCpE7B,AGCuB,ADDnB4B,CCCG,CAAf,EHDQ5B,EEAI4B,GFAC,EAAE,GEAK,CDCLH,CDDKzB,AEAE,KFHH,AEGQ4B;AADiD,KAAnD,CAAjB;AFEA,AGERiB,ADAQb,IAAAA,GCAD,CHFKvB,AGEJwC,IDAQ,CAACf,ECAjB,CHFQ,EGEU,CHFI,CEEd,CAAiB5B,GCAD,GDAO,CAACN,KAAxB;AFDI,AGERM,ADCI6B,ECDJ7B,EDCI6B,ICDE,CAACnB,GDCK,CFHG,AEGFoB,KFHOpC,CGEpB,IHFe,CAAWU,KAAlB,AEGJ,CAA0B,kBAA1B,EAA8C,KAAKqB,mBAAnD;AFFC,AGER,ADCI,CCHL,IHNmB;;AAOX,AGERe,ADCIjB,EAAAA,KCDG,CHFKlB,AGEJsC,OAAR,CHFQ,CAAarC,CGEH,GDCK,CFHf,AEGgByB,EFHG,AGEH,KDCD,EAAU;AFFrB,AGER/B,ADCI,ECDJA,MAAM,CAACgB,CDCGgB,CFHGtC,IEGE,CFHP,CAAWU,CEGD2B,CCDlB,GHFQ,GAAmBzB,AEGF,CAAC,CAAD,CAArB,EFHI;AACH,AGER,ADCO,CCHR,SDGc2B,UAAU,GAAGD,KAAK,CAACE,iBAAN,IAA2B,KAAKZ,QAAnD,CAFyB,CAGzB;;AFbW,AGYnBmB,ADEQ,GFdJ,GGYE,CAACG,CDEIX,MCFX,GAAiB,CDET,EAAc,GCFC;AHDnB,AGEAjC,ADEQ,ECFRA,KHFKJ,CGEC,CAACgB,EDEMZ,GFJb,CAAaO,CGEb,CAAekC,ADEP,CAAYxC,IFJpB,AEIQ,CFJaO,AGEA,CAACqC,CDCJ,CAEV,GFLmB,AGE3B,IHF+B;AAC3BrC,AGEP,ADGQ,CCLT,GHAQA,CEEA,KFFM,CAACC,AEKA,GFLP,CAAWT,MAAX;AACH,AEKO,GFPR,QEOaA,MAAL,CAAYE,KAAZ,GADG,CAEH;AFLX,AGGD,ADGS,CFrBT,GGkBG,mBAAmB4C,SAAtB,EAAgC;AAC5BA,ADGC,ECHDA,SAAS,CAACC,aAAV,CAAwBC,QAAxB,CAAiC,sCAAjC,EAA2CC,KAA3C,CAAiDC,GAAG,IAAIjC,OAAO,CAACkC,KAAR,CAAcD,GAAd,CAAxD;AHHJ1D,AGIC,WHJU,CAACO,SAAZ,CAAsBE,IAAtB,GAA6B,YAAW;AACpC,AEMAwB,EAAAA,KFNK/B,KAAL,CAAWO,IAAX,IEMmB,GAAE;AFLxB,AEMO,CFRR;AESQ,UAAMkC,SAAS,GAAGN,QAAQ,CAACO,eAA3B;AFNR5C,WAAW,CAACO,SAAZ,CAAsBG,KAAtB,GAA8B,YAAW;AACrC,AEMI,OFNCR,CEMEyC,IFNP,CAAWjC,IEMK,CFNhB,IEMqB,SAAjB,EAA4B;AFLnC,AEMW,CFRZ,UEQiBF,MAAL,CAAYC,IAAZ;AACH,KAFD,MAEO;AFNfT,AEOY,WFPD,AEOMQ,CFPLD,KEOA,CAAYG,GFPxB,CAAsBQ,CEOV,SFPZ,GAAmC,YAAW;AAC1C,AEOK,MFPF,KAAKhB,KAAL,CAAWiB,MAAd,EAAsB;AAClB,AEOH,SFPQjB,KAAL,CAAWO,IAAX;AACH,GAFD,MAEO;AACH,AE/BQ,SF+BHP,KAAL,CAAWQ,KAAX;AACH;AACJ,CAND,cEYekB;;AFLf5B,WAAW,CAACO,SAAZ,CAAsBa,OAAtB,GAAgC,UAASN,KAAT,EAAe;AAC3C,OAAKZ,KAAL,CAAWmB,MAAX,GAAoBP,KAAK,GAAC,EAA1B;AACH,CAFD;;AAGAd,WAAW,CAACO,SAAZ,CAAsBe,IAAtB,GAA6B,YAAU;AACnC,OAAKpB,KAAL,CAAWU,KAAX,GAAmB,IAAnB;AACH,CAFD;;AAGAZ,WAAW,CAACO,SAAZ,CAAsBgB,MAAtB,GAA+B,YAAU;AACrC,OAAKrB,KAAL,CAAWU,KAAX,GAAmB,KAAnB;AACH,CAFD;;AAGAZ,WAAW,CAACO,SAAZ,CAAsBiB,UAAtB,GAAmC,YAAW;AAC1CC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWU,KAAvB;AACA,OAAKV,KAAL,CAAWU,KAAX,GAAmB,CAAC,KAAKV,KAAL,CAAWU,KAA/B;AACH,CAHD;;eAIeZ","file":"main.db1b0b10.js","sourceRoot":"..","sourcesContent":["function MediaPlayer(config){\n    this.media = config.el\n    this.plugins = config.plugins || new Array()\n    this.initPlufins() \n}\nMediaPlayer.prototype.initPlufins = function() {\n    const player = {\n        play: () => this.play(),\n        pause: () => this.pause(),\n        media: this.media,\n        get getmuted(){\n            return this.media.muted\n        },\n        set setmuted(valor){\n            this.media.muted = valor;\n        }\n    }\n    this.plugins.forEach(plugin => {\n        plugin.run(player)\n    })\n}\nMediaPlayer.prototype.play = function() {\n    this.media.play()\n}\nMediaPlayer.prototype.pause = function() {\n    this.media.pause()\n}\nMediaPlayer.prototype.togglePlay = function() {\n    if(this.media.paused) {\n        this.media.play()\n    } else {\n        this.media.pause()\n    }\n}\nMediaPlayer.prototype.volumen = function(valor){\n    this.media.volume = valor/10\n}\nMediaPlayer.prototype.mute = function(){\n    this.media.muted = true\n}\nMediaPlayer.prototype.unmute = function(){\n    this.media.muted = false\n}\nMediaPlayer.prototype.toggleMute = function() {\n    console.log(this.media.muted)\n    this.media.muted = !this.media.muted\n}\nexport default MediaPlayer","function AutoPlay() {\n\n}\nAutoPlay.prototype.run = function(player) {\n    if(!player.muted){\n        player.setmuted = true;\n    }\n    player.play()\n}\n\nexport default AutoPlay","class AutoPause {\n    constructor(){\n        this.threshot = 0.01\n        this.handlerIntersection = this.handlerIntersection.bind(this)\n        this.handlerVisibilities = this.handlerVisibilities.bind(this)\n    }\n    run(player) {\n        this.player = player\n        const observer = new IntersectionObserver(this.handlerIntersection, {\n            threshot: this.threshot\n        });\n\n        observer.observe(player.media)\n\n        document.addEventListener('visibilitychange', this.handlerVisibilities)\n    }\n    handlerIntersection(entries) {\n        const entry = entries[0]\n        const visibility = entry.intersectionRatio >= this.threshot\n        // console.log(entry.isIntersecting)\n        if(visibility){\n            this.player.play()\n            // this.player.media.classList.remove('wien')\n        } else {\n            this.player.pause()\n            // this.player.media.classList.add('wien')\n        }\n    }\n    handlerVisibilities(){\n        // console.log(document.visibilityState)\n        const isVisible = document.visibilityState\n        if(isVisible === 'visible') {\n            this.player.play()\n        } else {\n            this.player.pause()\n        }\n    }\n}\n\nexport default AutoPause;","import MediaPlayer from \"./MediaPlayer.js\"\nimport AutoPlay from \"../plugins/AutoPlay.js\"\nimport AutoPause from \"../plugins/AutoPause.js\"\n\n\nconst video = document.querySelector('video')\nconst btnPlay = document.querySelector('#btnPlay')\nconst btnMute = document.querySelector('#btnMute')\nconst sonido = document.getElementById('sonido')\n\nconst player = new MediaPlayer({ el: video, plugins: [new AutoPlay(), new AutoPause()] })\n\nbtnPlay.onclick = () => {\n    player.togglePlay()\n}\nbtnMute.onclick = () => {\n    player.toggleMute()\n}\nsonido.oninput = () => {\n    player.volumen(sonido.value)\n} \n\n\nif('serviceWorker' in navigator){\n    navigator.serviceWorker.register('/sw.js').catch(err => console.error(err));\n}"]}